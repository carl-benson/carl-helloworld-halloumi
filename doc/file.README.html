<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  File: README
  
    &mdash; Documentation by YARD 0.9.12
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  pathId = "README";
  relpath = '';
</script>


  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="file_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="_index.html">Index</a> &raquo; 
    <span class="title">File: README</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><div id='filecontents'>
<h1 id="label-HelloWorld">HelloWorld</h1>

<p><a href="https://github.com/sentiampc/hello-world-halloumi"><img
src="https://img.shields.io/badge/github-sentiampc%2Fhello--world--halloumi-blue.svg"></a></p>

<p><em>If you are not already reading YARD generated documentation, you can
read the full documentation by first generating it by running <code>bundle
exec rake yard</code> and then opening the generated
<code>doc/index.html</code> document in your favorite browser.</em></p>

<h2 id="label-Synopsis">Synopsis</h2>

<p>Halloumi project for HelloWorld.</p>

<h2 id="label-1.+Local+development">1. Local development</h2>

<p>Install dependencies</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_bundle'>bundle</span> <span class='id identifier rubyid_config'>config</span> <span class='id identifier rubyid_build'>build</span><span class='period'>.</span><span class='id identifier rubyid_rugged'>rugged</span> <span class='op'>-</span><span class='op'>-</span><span class='id identifier rubyid_use'>use</span><span class='op'>-</span><span class='id identifier rubyid_system'>system</span><span class='op'>-</span><span class='id identifier rubyid_libraries'>libraries</span>
<span class='id identifier rubyid_bundle'>bundle</span> <span class='id identifier rubyid_config'>config</span> <span class='id identifier rubyid_build'>build</span><span class='period'>.</span><span class='id identifier rubyid_nokogiri'>nokogiri</span> <span class='op'>-</span><span class='op'>-</span><span class='id identifier rubyid_use'>use</span><span class='op'>-</span><span class='id identifier rubyid_system'>system</span><span class='op'>-</span><span class='id identifier rubyid_libraries'>libraries</span>
<span class='id identifier rubyid_bundle'>bundle</span> <span class='id identifier rubyid_install'>install</span>
</code></pre>

<h2 id="label-2.+Add+a+-7E-2F.env.private+file">2. Add a <code>~/.env.private</code> file</h2>

<p>Add the following environment variables</p>

<pre class="code ruby"><code class="ruby">LS_AWS_ACCESS_KEY_ID=AKIAXXXXXXXXXXXXXXXXXX
LS_AWS_SECRET_ACCESS_KEY=XXXXXXXXXXXXXXXXXX
LS_AWS_MFA_SERIAL=arn:aws:iam::############:mfa/XXXXXX
AWS_ROLE=XXXXXXX</code></pre>

<h2 id="label-3.+Customize+the+deployment">3. Customize the deployment</h2>
<ol><li>
<p>Update the <code>.env.test</code> file.</p>

<pre class="code ruby"><code class="ruby"><span class='const'>AWS_ACCOUNT</span> <span class='op'>=</span> <span class='comment'>############
</span><span class='const'>AWS_REGION</span> <span class='op'>=</span> <span class='const'>XXXXXXXX</span>
<span class='const'>STACK_NAME</span> <span class='op'>=</span> <span class='const'>XXXXXXXXXXXXX</span>
<span class='const'>CLOUDFORMATION_BUCKET</span> <span class='op'>=</span> <span class='const'>XXXXXXXXXXXXXXXXXXXXXXXX</span>
</code></pre>
</li><li>
<p>Adapt the <code>.env</code> file for the deployment.</p>

<pre class="code ruby"><code class="ruby"><span class='const'>ENVIRONMENT</span> <span class='op'>=</span> <span class='id identifier rubyid_test'>test</span>
</code></pre>
</li></ol>

<h2 id="label-4.+Deploy+Stack">4. Deploy Stack</h2>

<pre class="code ruby"><code class="ruby">bundle exec rake &amp;&amp; bundle exec rake apply</code></pre>

<h2 id="label-5.+Run+tests-2C+inspect+template+changes-2C+and+deploy">5. Run tests, inspect template changes, and deploy</h2>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_bundle'>bundle</span> <span class='id identifier rubyid_exec'>exec</span> <span class='id identifier rubyid_rake'>rake</span>
<span class='id identifier rubyid_bundle'>bundle</span> <span class='id identifier rubyid_exec'>exec</span> <span class='id identifier rubyid_rake'>rake</span> <span class='id identifier rubyid_diff'>diff</span>
<span class='id identifier rubyid_bundle'>bundle</span> <span class='id identifier rubyid_exec'>exec</span> <span class='id identifier rubyid_rake'>rake</span> <span class='id identifier rubyid_apply'>apply</span>
</code></pre>

<h2 id="label-6.+Delete+Stack">6. Delete Stack</h2>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_bundle'>bundle</span> <span class='id identifier rubyid_exec'>exec</span> <span class='id identifier rubyid_rake'>rake</span> <span class='id identifier rubyid_delete'>delete</span>
</code></pre>

<h1 id="label-Environment+Variable+Reference">Environment Variable Reference</h1>

<p>Environment variables are loaded in the following order, once a variable
has been set it will not be overwritten:</p>
<ul><li>
<p>Variables you pass when calling <code>rake</code></p>
</li><li>
<p>Variables defined in your current shell environment</p>
</li><li>
<p>Variables defined in <code>~/.env.private</code></p>
</li><li>
<p>Variables defined in <code>.env.private</code></p>
</li><li>
<p>Variables defined in <code>.env.*.ami</code></p>
</li><li>
<p>Variables defined in <code>.env</code></p>
</li><li>
<p>Variables defined in <code>.env.$ENVIRONMENT</code></p>
</li></ul>

<p>Please define deployment specific variables in <code>.env.xxxx</code>
files. You MUST keep secrets outside versionning, for that, use a
<code>.env.private</code> file, and store a safe copy of this file in a
password manager like 1Password or LastPass.</p>

<h2 id="label-User-Defined">User-Defined</h2>

<h3 id="label-AWS_ACCOUNT"><code>AWS_ACCOUNT</code></h3>

<p>The Amazon Web Services account ID, a 12 digit long number, please remove
the  dashes.</p>

<h3 id="label-AWS_REGION"><code>AWS_REGION</code></h3>

<p>The Amazon Web Services region to deploy the stack.</p>

<h3 id="label-SHARED_AMI_OWNERS"><code>SHARED_AMI_OWNERS</code></h3>

<p>The Amazon Web Services account ids that should have access to build amiâ€œs.</p>

<h3 id="label-MANAGEMENT_SUBNETS"><code>MANAGEMENT_SUBNETS</code></h3>

<p>A whitespace and/or comma separated list of IPv4 IPs or CIDRs, for example
<code>37.17.210.74, 1.2.3.4 5.6.7.8/28</code>. Only enable this when
needed!</p>

<h3 id="label-PACKER_BUILD_SCRIPT"><code>PACKER_BUILD_SCRIPT</code></h3>

<p>Used by Packer to determine which script from <code>packer/src</code> to
use in order to build the AMI.</p>

<h3 id="label-SOURCE_AMI"><code>SOURCE_AMI</code></h3>

<p>The ID of the AMI to use as base image for Packer.</p>

<h3 id="label-STACK_NAME"><code>STACK_NAME</code></h3>

<p>The name of the stack. Used when applying/deleting the stack.</p>

<h2 id="label-Automatically+Set">Automatically Set</h2>

<h3 id="label-DEPLOYMENT_GIT_COMMIT"><code>DEPLOYMENT_GIT_COMMIT</code></h3>

<p>The GIT commit ID of the current HEAD of the deployment project, a.k.a. the
super-project.</p>

<h3 id="label-GIT_COMMIT"><code>GIT_COMMIT</code></h3>

<p>The GIT commit ID of the current HEAD of a packer project.</p>
</div></div>

      <div id="footer">
  Generated on Mon May 14 15:27:32 2018 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.12 (ruby-2.3.1).
</div>

    </div>
  </body>
</html>